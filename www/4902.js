"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4902],{4902:(T,u,r)=>{r.r(u),r.d(u,{HomePageModule:()=>x});var l=r(9808),i=r(931),p=r(3075),g=r(7460),c=r(655),e=r(2096),f=r(4457),h=r(5097);const v=["slides"];function Z(t,s){if(1&t){const o=e.EpF();e.TgZ(0,"ion-slide")(1,"ion-card"),e._UZ(2,"img",10),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"p",11),e.ALo(8,"slice"),e._uU(9),e.ALo(10,"slice"),e.qZA(),e.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col",12)(14,"div",13),e._UZ(15,"ion-icon",14),e.TgZ(16,"p",15),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-col",12)(19,"div",13),e._UZ(20,"ion-icon",16),e.TgZ(21,"p",15),e._uU(22),e.qZA()()(),e.TgZ(23,"ion-col",12)(24,"div",13),e._UZ(25,"ion-icon",17),e.TgZ(26,"p",15),e._uU(27),e.qZA()()()()(),e.TgZ(28,"ion-grid")(29,"ion-row")(30,"ion-col",18)(31,"div",13)(32,"ion-button",19),e._UZ(33,"ion-icon",20),e.qZA()()(),e.TgZ(34,"ion-col",18)(35,"div",13)(36,"ion-button",21),e.NdJ("click",function(){const d=e.CHM(o).$implicit;return e.oxw().toggleFavorite(d)}),e._uU(37,"Favorite"),e.qZA()()()()()()()()}if(2&t){const o=s.$implicit,n=e.oxw();e.xp6(2),e.Q6J("src",o.image,e.LSH),e.xp6(3),e.Oqu(o.title),e.xp6(2),e.Q6J("innerHTML",e.Dn7(8,9,o.summary,0,700)+"...",e.oJD),e.xp6(2),e.hij("",e.Dn7(10,13,o.summary,0,150),"..."),e.xp6(8),e.Oqu(o.aggregateLikes),e.xp6(5),e.Oqu(o.servings),e.xp6(5),e.Oqu(o.readyInMinutes),e.xp6(5),e.Q6J("routerLink","/detail/"+o.id),e.xp6(4),e.Q6J("disabled",n.isFavorite(o))}}let y=(()=>{class t{constructor(o,n,a,d,m){this.spoonacularService=o,this.loadingController=n,this.favoritesService=a,this.toastController=d,this.alertController=m}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){yield this.presentLoading(),this.spoonacularService.getRandomRecipes(10).subscribe(o=>{this.randomRecipes=o.recipes,this.loadingController.dismiss()})})}refreshRandomRecipes(){return(0,c.mG)(this,void 0,void 0,function*(){try{const o=yield this.spoonacularService.getRandomRecipes(10).toPromise(),n=yield this.toastController.create({message:"Loading new recipes :)",position:"top",animated:!0,color:"primary",duration:2300});n.present(),n.onDidDismiss(),this.randomRecipes=o.recipes,yield this.loadingController.dismiss(),yield this.slides.slideTo(0)}catch(o){console.log("Error while refreshing new recipes",o)}})}presentLoading(){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.loadingController.create({message:"Loading recipes..."})).present()})}isFavorite(o){return this.favoritesService.isFavorite(o.id)}toggleFavorite(o){return(0,c.mG)(this,void 0,void 0,function*(){this.favoritesService.isFavorite(o.id)||(yield(yield this.alertController.create({header:"Add to favorites",message:"Do you want to add this recipe to your favorites?",buttons:[{text:"Cancel",role:"cancel"},{text:"Add",handler:()=>{this.favoritesService.addToFavorites(o)}}]})).present())})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(f.q),e.Y36(i.HT),e.Y36(h.G),e.Y36(i.yF),e.Y36(i.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(o,n){if(1&o&&e.Gf(v,5),2&o){let a;e.iGM(a=e.CRH())&&(n.slides=a.first)}},decls:20,vars:2,consts:[["slot","end"],[3,"routerLink"],["color","warning","name","star-half-outline"],[1,"favorite-header"],[1,"favorite-header-title"],[1,"refresh-button-container"],["color","light","fill","clear",1,"refresh-button",3,"click"],["name","refresh"],["slides",""],[4,"ngFor","ngForOf"],["alt","No image found for this recipe",3,"src"],[3,"innerHTML"],["size","4",1,"icon-col"],[1,"icon-container"],["name","heart-sharp","color","danger"],[1,"icon-label"],["name","people-outline","color","primary"],["name","time-sharp","color","medium"],["size","6",1,"icon-col"],["color","success",3,"routerLink"],["name","eye"],["color","warning",3,"disabled","click"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"SmartCook | Home"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e._UZ(6,"ion-icon",2),e.qZA()()()(),e.TgZ(7,"ion-list")(8,"div",3)(9,"ion-list")(10,"ion-list-header",4),e._uU(11,"Your 10 recipes of the day"),e.qZA()()(),e.TgZ(12,"div",5)(13,"ion-button",6),e.NdJ("click",function(){return n.refreshRandomRecipes()}),e._UZ(14,"ion-icon",7),e._uU(15," See 10 differents recipes "),e.qZA()()(),e.TgZ(16,"ion-content")(17,"ion-slides",null,8),e.YNc(19,Z,38,17,"ion-slide",9),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("routerLink","/favorites"),e.xp6(14),e.Q6J("ngForOf",n.randomRecipes))},directives:[i.Gu,i.sr,i.wd,i.Sm,i.YG,i.YI,g.rH,i.gu,i.q_,i.yh,i.W2,i.Hr,l.sg,i.A$,i.PM,i.Zi,i.Dq,i.FN,i.jY,i.Nd,i.wI],pipes:[l.OU],styles:[".icon-col[_ngcontent-%COMP%]{display:flex;justify-content:center}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-right:4px}.icon-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:0}.refresh-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:16px}.refresh-button[_ngcontent-%COMP%]{background-color:#6495ed;color:#fff;border-radius:25px;padding:8px 16px}"]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,p.u5,i.Pc,g.Bz.forChild([{path:"",component:y}])]]}),t})()}}]);