"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2167],{2167:(y,d,s)=>{s.r(d),s.d(d,{RestaurantsPageModule:()=>_});var u=s(9808),g=s(3075),o=s(603),p=s(7460),l=s(655),t=s(2096),h=s(4457);function m(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-card",8),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw(2).openGoogleMap(c)}),t.TgZ(2,"ion-card-header")(3,"ion-card-title")(4,"strong"),t._uU(5),t.qZA()()(),t.TgZ(6,"ion-card-content"),t._UZ(7,"ion-img",9),t.qZA()(),t.BQk()}if(2&n){const e=r.$implicit;t.xp6(5),t.Oqu(e.name.toUpperCase()),t.xp6(2),t.Q6J("src",e.food_photos[0])}}function f(n,r){if(1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,m,8,2,"ng-container",7),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.restaurants)}}const v=[{path:"",component:(()=>{class n{constructor(e,a,i){this.spoonacularService=e,this.loadingController=a,this.toastController=i}ngOnInit(){this.cuisine="",this.restaurants=[],this.getCurrentLocation()}presentLoading(){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.loadingController.create({message:"Finding restaurants..."})).present()})}clearSearch(){this.restaurants=[]}getCurrentLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{console.log(e.coords.latitude.toString()),console.log(e.coords.longitude.toString())},e=>{console.log(e)}):console.log("Geolocation is not supported by this browser.")}getRestaurants(){return(0,l.mG)(this,void 0,void 0,function*(){yield this.presentLoading(),this.spoonacularService.getRestaurants("40.71362204862987","-74.0378222114517",this.cuisine).subscribe(e=>(0,l.mG)(this,void 0,void 0,function*(){this.restaurants=e.restaurants,yield(yield this.toastController.create({message:"Searching restaurant done :)",duration:2e3,position:"top",animated:!0,color:"success"})).present(),yield this.loadingController.dismiss()}),e=>(0,l.mG)(this,void 0,void 0,function*(){console.log(e),yield(yield this.toastController.create({message:e,duration:2e3,position:"top",animated:!0,color:"danger"})).present(),yield this.loadingController.dismiss()}))})}openGoogleMap(e){window.open(`https://www.google.com/maps/dir/?api=1&destination=${e.address.latitude},${e.address.longitude}`,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.q),t.Y36(o.HT),t.Y36(o.yF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-restaurants"]],decls:16,vars:3,consts:[[1,"favorite-header"],[1,"favorite-header-title"],[1,"centered-button-container"],["color","primary",1,"search-button",3,"click"],["name","restaurant",2,"margin-right","5px"],[3,"placeholder","ngModel","ngModelChange","ionClear"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"restaurant-card",3,"click"],["alt","No picture found for this restaurant",1,"restaurant-image",3,"src"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"SmartCook"),t.qZA()()(),t.TgZ(4,"ion-list")(5,"div",0)(6,"ion-list")(7,"ion-list-header",1),t._uU(8,"Find restaurants near you"),t.qZA()()(),t.TgZ(9,"div",2)(10,"ion-button",3),t.NdJ("click",function(){return a.getRestaurants()}),t._UZ(11,"ion-icon",4),t._uU(12," Search restaurants "),t.qZA()(),t.TgZ(13,"ion-searchbar",5),t.NdJ("ngModelChange",function(c){return a.cuisine=c})("ionClear",function(){return a.clearSearch()}),t.qZA()(),t.TgZ(14,"ion-content"),t.YNc(15,f,2,1,"ion-list",6),t.qZA()),2&e&&(t.xp6(13),t.Q6J("placeholder","Search by cuisine (italian, french...)")("ngModel",a.cuisine),t.xp6(2),t.Q6J("ngIf",a.restaurants&&a.restaurants.length>0))},directives:[o.Gu,o.sr,o.wd,o.q_,o.yh,o.YG,o.gu,o.VI,o.j9,g.JJ,g.On,o.W2,u.O5,u.sg,o.PM,o.Zi,o.Dq,o.FN,o.Xz],styles:[".restaurant-card[_ngcontent-%COMP%]{height:100%}.restaurant-image[_ngcontent-%COMP%]{height:150px;object-fit:cover}.centered-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2px}"]}),n})()}];let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(v)],p.Bz]}),n})(),_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,g.u5,o.Pc,C]]}),n})()}}]);