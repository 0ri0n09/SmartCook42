"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[651],{651:(q,u,a)=>{a.r(u),a.d(u,{SearchPageModule:()=>I});var d=a(9808),g=a(3075),c=a(603),_=a(7460),l=a(655),p=a(8929),e=a(2096),x=a(4457),f=a(5097);function m(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",11),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function C(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",11),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function v(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",11),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function T(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",11),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function Z(t,s){if(1&t&&(e.TgZ(0,"ion-select-option",11),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}function S(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",3)(2,"ion-list")(3,"ion-list-header",4),e._uU(4),e.qZA()()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.recipes.length>0?"Your results":"No recipes found"," ")}}function M(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-slide")(1,"ion-card"),e._UZ(2,"img",13),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",14)(10,"div",15)(11,"ion-button",16),e._UZ(12,"ion-icon",17),e.qZA()()(),e.TgZ(13,"ion-col",14)(14,"div",15)(15,"ion-button",18),e.NdJ("click",function(){const r=e.CHM(n).$implicit;return e.oxw(3).toggleFavorite(r)}),e._UZ(16,"ion-icon",19),e.qZA()()()()()()()()}if(2&t){const n=s.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("src",n.image,e.LSH),e.xp6(3),e.Oqu(n.title),e.xp6(6),e.Q6J("routerLink","/detail/"+n.id),e.xp6(4),e.Q6J("disabled",i.isFavorite(n))}}function y(t,s){if(1&t&&(e.TgZ(0,"ion-slides"),e.YNc(1,M,17,4,"ion-slide",12),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.recipes)}}function P(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-content")(1,"ion-searchbar",6),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().searchQuery=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.qZA(),e.TgZ(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"ion-item")(6,"ion-label"),e._uU(7,"Diet"),e.qZA(),e.TgZ(8,"ion-select",7),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedDiet=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.YNc(9,m,2,2,"ion-select-option",8),e.qZA(),e.TgZ(10,"ion-button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearFilter("diet")}),e._uU(11,"Clear"),e.qZA()()(),e.TgZ(12,"ion-col")(13,"ion-item")(14,"ion-label"),e._uU(15,"Cuisine"),e.qZA(),e.TgZ(16,"ion-select",7),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedCuisine=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.YNc(17,C,2,2,"ion-select-option",8),e.qZA(),e.TgZ(18,"ion-button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearFilter("cuisine")}),e._uU(19,"Clear"),e.qZA()()(),e.TgZ(20,"ion-col")(21,"ion-item")(22,"ion-label"),e._uU(23,"Type"),e.qZA(),e.TgZ(24,"ion-select",7),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedType=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.YNc(25,v,2,2,"ion-select-option",8),e.qZA(),e.TgZ(26,"ion-button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearFilter("type")}),e._uU(27,"Clear"),e.qZA()()(),e.TgZ(28,"ion-col")(29,"ion-item")(30,"ion-label"),e._uU(31,"Intolerances"),e.qZA(),e.TgZ(32,"ion-select",10),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedIntolerances=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.YNc(33,T,2,2,"ion-select-option",8),e.qZA(),e.TgZ(34,"ion-button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearFilter("intolerances")}),e._uU(35,"Clear "),e.qZA()()(),e.TgZ(36,"ion-col")(37,"ion-item")(38,"ion-label"),e._uU(39,"Occasion"),e.qZA(),e.TgZ(40,"ion-select",7),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().selectedOccasion=o})("ionChange",function(){return e.CHM(n),e.oxw().searchRecipes()}),e.YNc(41,Z,2,2,"ion-select-option",8),e.qZA(),e.TgZ(42,"ion-button",9),e.NdJ("click",function(){return e.CHM(n),e.oxw().clearFilter("occasion")}),e._uU(43,"Clear "),e.qZA()()()()(),e.YNc(44,S,5,1,"ng-container",5),e.YNc(45,y,2,1,"ion-slides",5),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("placeholder","Search recipes...")("ngModel",n.searchQuery),e.xp6(7),e.Q6J("ngModel",n.selectedDiet),e.xp6(1),e.Q6J("ngForOf",n.diets),e.xp6(7),e.Q6J("ngModel",n.selectedCuisine),e.xp6(1),e.Q6J("ngForOf",n.cuisines),e.xp6(7),e.Q6J("ngModel",n.selectedType),e.xp6(1),e.Q6J("ngForOf",n.types),e.xp6(7),e.Q6J("ngModel",n.selectedIntolerances),e.xp6(1),e.Q6J("ngForOf",n.intolerances),e.xp6(7),e.Q6J("ngModel",n.selectedOccasion),e.xp6(1),e.Q6J("ngForOf",n.occasions),e.xp6(3),e.Q6J("ngIf",n.recipes&&n.searchQuery),e.xp6(1),e.Q6J("ngIf",n.searchQuery)}}function J(t,s){if(1&t&&(e.ynx(0),e.TgZ(1,"div",3)(2,"ion-list")(3,"ion-list-header",4),e._uU(4),e.qZA()()(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(4),e.hij(" ",n.recipes.length>0?"Your results":"No recipes found"," ")}}function w(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-slide")(1,"ion-card"),e._UZ(2,"img",13),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",14)(10,"div",15)(11,"ion-button",16),e._UZ(12,"ion-icon",17),e.qZA()()(),e.TgZ(13,"ion-col",14)(14,"div",15)(15,"ion-button",18),e.NdJ("click",function(){const r=e.CHM(n).$implicit;return e.oxw(3).toggleFavorite(r)}),e._UZ(16,"ion-icon",19),e.qZA()()()()()()()()}if(2&t){const n=s.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("src",n.image,e.LSH),e.xp6(3),e.Oqu(n.title),e.xp6(6),e.Q6J("routerLink","/detail/"+n.id),e.xp6(4),e.Q6J("disabled",i.isFavorite(n))}}function b(t,s){if(1&t&&(e.TgZ(0,"ion-slides"),e.YNc(1,w,17,4,"ion-slide",12),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.recipes)}}function A(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"ion-content")(1,"ion-searchbar",20),e.NdJ("ionChange",function(){e.CHM(n);const o=e.oxw();return o.searchIngredients$.next(o.searchIngredients)})("ngModelChange",function(o){return e.CHM(n),e.oxw().searchIngredients=o}),e.qZA(),e.YNc(2,J,5,1,"ng-container",5),e.YNc(3,b,2,1,"ion-slides",5),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngModel",n.searchIngredients)("placeholder","Search by ingredients..."),e.xp6(1),e.Q6J("ngIf",n.recipes&&n.searchIngredients),e.xp6(1),e.Q6J("ngIf",n.searchIngredients)}}const Q=[{path:"",component:(()=>{class t{constructor(n,i,o,r,h){this.spoonacularService=n,this.favoritesService=i,this.toastController=o,this.loadingController=r,this.activatedRoute=h,this.searchIngredients$=new p.xQ,this.diets=["Vegan","Vegetarian","Paleo","Ketogenic","Gluten Free"],this.cuisines=["African","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],this.types=["Main Course","Side Dish","Dessert","Appetizer","Salad","Bread","Breakfast","Soup","Beverage","Sauce","Marinade","Fingerfood","Snack","Drink"],this.intolerances=["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut","Wheat"],this.occasions=["Brunch","Dinner","Lunch","Party","Summer"],this.selectedIntolerances=[],this.view="view2"}ngOnInit(){this.searchIngredients$.pipe().subscribe(n=>{this.searchRecipesByIngredients(n)}),this.activatedRoute.queryParams.subscribe(n=>{if(n.searchIngredients){const i=JSON.parse(n.searchIngredients);this.searchIngredients=i.join(" "),this.searchIngredients$.next(this.searchIngredients),this.searchRecipesByIngredients(this.searchIngredients)}})}toggleContent(){this.view="view1"===this.view?"view2":"view1"}searchRecipesByIngredients(n){return(0,l.mG)(this,void 0,void 0,function*(){yield new Promise(o=>setTimeout(o,1e3));const i=yield this.presentLoading();this.spoonacularService.searchRecipesByIngredients(n).subscribe(o=>(0,l.mG)(this,void 0,void 0,function*(){this.recipes=o,yield i.dismiss(),0===this.recipes.length&&(yield this.toastController.create({message:"No recipes found with these ingredients",duration:2e3,position:"top",animated:!0,color:"danger"})).present()}),o=>(0,l.mG)(this,void 0,void 0,function*(){console.log("Error searching recipes:",o),yield i.dismiss()}))})}presentLoading(){return(0,l.mG)(this,void 0,void 0,function*(){const n=yield this.loadingController.create({message:"Loading recipes..."});return yield n.present(),n})}searchRecipes(){return(0,l.mG)(this,void 0,void 0,function*(){yield this.presentLoading();const n=this.selectedIntolerances.join(",");this.spoonacularService.searchRecipes(this.searchQuery,10,this.selectedDiet,this.selectedCuisine,n,this.selectedType,this.selectedOccasion).subscribe(i=>(0,l.mG)(this,void 0,void 0,function*(){this.recipes=i.results,yield this.loadingController.dismiss(),0===this.recipes.length&&(yield this.toastController.create({message:"No recipes found with this search",duration:2e3,position:"top",animated:!0,color:"danger"})).present()}),i=>(0,l.mG)(this,void 0,void 0,function*(){console.log("Error searching recipes:",i),yield this.loadingController.dismiss()}))})}clearFilter(n){return(0,l.mG)(this,void 0,void 0,function*(){switch(n){case"diet":this.selectedDiet=null;break;case"cuisine":this.selectedCuisine=null;break;case"type":this.selectedType=null;break;case"intolerances":this.selectedIntolerances=[];break;case"occasion":this.selectedOccasion=null}this.selectedDiet||this.selectedCuisine||this.selectedType||0!==this.selectedIntolerances.length||this.selectedOccasion?yield this.presentLoading():yield this.loadingController.dismiss(),this.searchRecipes()})}isFavorite(n){return this.favoritesService.isFavorite(n.id)}toggleFavorite(n){return(0,l.mG)(this,void 0,void 0,function*(){this.favoritesService.isFavorite(n.id)||(yield this.favoritesService.addToFavorites(n),(yield this.toastController.create({message:"Recipe added to favorites",duration:2e3,position:"top",animated:!0,color:"success"})).present())})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x.q),e.Y36(f.G),e.Y36(c.yF),e.Y36(c.HT),e.Y36(_.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-search"]],decls:14,vars:3,consts:[["slot","end"],["color","tertiary",3,"click"],[3,"name"],[1,"favorite-header"],[1,"favorite-header-title"],[4,"ngIf"],[3,"placeholder","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["slot","end","fill","clear","size","small",3,"click"],["multiple","true",3,"ngModel","ngModelChange","ionChange"],[3,"value"],[4,"ngFor","ngForOf"],["alt","No image found for this recipe",3,"src"],["size","6",1,"icon-col"],[1,"icon-container"],["color","success",3,"routerLink"],["name","eye"],["color","warning",3,"disabled","click"],["name","star"],[3,"ngModel","placeholder","ionChange","ngModelChange"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"SmartCook"),e.qZA(),e.TgZ(4,"ion-buttons",0)(5,"ion-button",1),e.NdJ("click",function(){return i.toggleContent()}),e._UZ(6,"ion-icon",2),e.qZA()()()(),e.TgZ(7,"ion-list")(8,"div",3)(9,"ion-list")(10,"ion-list-header",4),e._uU(11,"Find recipes you like"),e.qZA()()()(),e.YNc(12,P,46,14,"ion-content",5),e.YNc(13,A,4,4,"ion-content",5)),2&n&&(e.xp6(6),e.Q6J("name","view1"===i.view?"fast-food-outline":"newspaper-outline"),e.xp6(6),e.Q6J("ngIf","view1"===i.view),e.xp6(1),e.Q6J("ngIf","view2"===i.view))},directives:[c.Gu,c.sr,c.wd,c.Sm,c.YG,c.gu,c.q_,c.yh,d.O5,c.W2,c.VI,c.j9,g.JJ,g.On,c.jY,c.Nd,c.wI,c.Ie,c.Q$,c.t9,c.QI,d.sg,c.n0,c.Hr,c.A$,c.PM,c.Zi,c.Dq,c.FN,c.YI,_.rH],styles:[".empty-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center}.empty-results[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:green;font-size:4rem;margin-bottom:1rem}.empty-results[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.5rem}"]}),t})()}];let F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Q)],_.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,g.u5,c.Pc,F]]}),t})()}}]);